---
import Layout from '../layouts/Layout.astro';
import Navbar from '../components/Navbar.astro';
import Section from '../components/Section.astro';
import ServiceCard from '../components/ServiceCard.astro';
import TeamMember from '../components/TeamMember.astro';
import ContactInfo from '../components/ContactInfo.astro';
import TestimonialCard from '../components/TestimonialCard.astro';
import FAQItem from '../components/FAQItem.astro';
import WhatsAppButton from '../components/WhatsAppButton.astro';
import Footer from '../components/Footer.astro';
import { Icon } from 'astro-icon/components';
import TarjetaServicio from '../components/TarjetaServicio.astro';
import { servicios } from '../data/servicios.js';
import { services, teamMembers, contactItems, testimonials, faqs, clients, stats } from '../data/content';

const clientSlides = [...clients, ...clients, ...clients];
---

<Layout>
	<Fragment slot="head">
		<link rel="stylesheet" href="/assets/css/home.css" />
		<link rel="stylesheet" href="/assets/css/services.css" />
		<link rel="stylesheet" href="/assets/css/service-card.css" />
		<link rel="stylesheet" href="/assets/css/Contacto.css" />
	</Fragment>
	<main class="min-h-screen">
		<Navbar />

		<!-- Hero Section -->
		<section class="min-h-screen flex items-center justify-center relative overflow-hidden pt-20" data-reveal>
			<div class="max-w-7xl mx-auto px-8">
				<div class="relative z-10 text-center max-w-4xl animate-fade-in-up">
					<h1 class="text-5xl md:text-7xl lg:text-8xl font-bold mb-4 tracking-tight text-dark">
						Cogni<span class="text-turquoise relative">Code</span>
					</h1>
					<p class="text-xl md:text-2xl font-light text-gray-custom mb-8 tracking-wide">
						Inteligencia en el núcleo de tu estrategia
					</p>
					<p class="text-lg text-gray-custom max-w-2xl mx-auto mb-12 leading-relaxed">
						Transformamos ideas en soluciones tecnológicas inteligentes.
						Desarrollo de software estratégico para empresas que piensan en el futuro.
					</p>
					<div class="flex gap-4 justify-center flex-wrap">
						<a href="#servicios" class="group px-8 py-4 text-base font-semibold no-underline rounded-lg transition-all duration-300 bg-turquoise text-white shadow-[0_4px_15px_rgba(6,182,212,0.3)] hover:bg-turquoise-dark hover:-translate-y-0.5 hover:shadow-[0_6px_20px_rgba(6,182,212,0.4)] flex items-center gap-2">
							<span>Nuestros Servicios</span>
							<Icon name="lucide:arrow-right" class="w-5 h-5 group-hover:translate-x-1 transition-transform" />
						</a>
						<a href="#contacto" class="group px-8 py-4 text-base font-semibold no-underline rounded-lg transition-all duration-300 bg-transparent text-dark border-2 border-turquoise hover:bg-turquoise hover:text-white hover:-translate-y-0.5 flex items-center gap-2">
							<Icon name="lucide:message-circle" class="w-5 h-5" />
							<span>Contactar</span>
						</a>
					</div>
				</div>
			</div>
			<div class="absolute -top-[10%] -right-[10%] w-[600px] h-[600px] bg-gradient-to-br from-turquoise-light to-turquoise rounded-full opacity-10 z-0 animate-float"></div>
		</section>

		<!-- Servicios Section -->
		<section id="servicios" class="services-page" data-reveal>
			<header class="services-header">
				<div class="services-badge">Nuestros Servicios</div>
				<h2 class="services-title">Soluciones de Software Profesionales</h2>
				<p class="services-subtitle">
					Diseñadas para impulsar el crecimiento de tu negocio con tecnología moderna y resultados medibles.
				</p>
			</header>
			<div class="services-grid">
				{servicios.map((servicio) => (
					<TarjetaServicio
						id={servicio.id}
						titulo={servicio.titulo}
						descripcion={servicio.descripcion}
						costoAprox={servicio.costoAprox}
						icono={servicio.icono as "ShoppingCart" | "Globe" | "Zap" | "Package"}
					/>
				))}
			</div>
			<section class="services-cta">
				<div class="services-cta-content">
					<h3>¿Listo para transformar tu negocio?</h3>
					<p>Contáctanos hoy y descubre cómo podemos ayudarte a alcanzar tus objetivos.</p>
					<a
						href="https://wa.me/51939836897?text=Hola%20quiero%20más%20info%20sobre%20el%20servicio"
						target="_blank"
						class="btn-cta inline-flex items-center px-5 py-3 bg-green-500 text-white font-medium rounded-lg hover:bg-green-600 transition"
					>
						Consultar via WhatsApp
					</a>
				</div>
			</section>
		</section>

		<!-- Clientes Section -->
		<Section id="clientes" title="Clientes que Confían en Nosotros" subtitle="Empresas líderes que han transformado su visión tecnológica con CogniCode" reveal>
			<swiper-container id="clients-swiper" init="false" class="clients-swiper" data-reveal>
				{clientSlides.map((client, index) => (
					<swiper-slide class="client-slide">
						<div class="client-chip">
							{client}
						</div>
					</swiper-slide>
				))}
			</swiper-container>
		</Section>

		<!-- Sobre Nosotros Section -->
		<Section id="nosotros" title="Sobre Nosotros" bgColor="gray" reveal>
			<div class="max-w-4xl mx-auto">
				<p class="text-lg leading-relaxed text-gray-custom mb-6">
					En <strong class="text-turquoise">CogniCode</strong>, fusionamos inteligencia y tecnología para crear soluciones 
					que transforman negocios. Nuestro equipo de expertos combina pensamiento estratégico con excelencia técnica.
				</p>
				<p class="text-lg leading-relaxed text-gray-custom mb-6">
					Con años de experiencia en el sector tecnológico, nos especializamos en 
					identificar el núcleo de los desafíos empresariales y desarrollar soluciones 
					innovadoras que generan resultados medibles.
				</p>
				<div class="grid grid-cols-1 md:grid-cols-3 gap-12 mt-16">
					{stats.map(stat => (
						<div class="text-center">
							<div class="text-5xl font-bold text-turquoise mb-2">{stat.number}</div>
							<div class="text-gray-custom text-base">{stat.label}</div>
						</div>
					))}
				</div>
			</div>
		</Section>

		<!-- Colaboradores Section -->
		<Section id="colaboradores" title="Nuestro Equipo" subtitle="Profesionales apasionados por la tecnología y la innovación" reveal>
			<div class="grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-12">
				{teamMembers.map(member => (
					<TeamMember {...member} />
				))}
			</div>
		</Section>

		<!-- Testimonios Section -->
		<Section id="testimonios" title="Lo Que Dicen Nuestros Clientes" subtitle="Historias de éxito de quienes confiaron en nosotros" bgColor="gray" reveal>
			<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
				{testimonials.map(testimonial => (
					<TestimonialCard {...testimonial} />
				))}
			</div>
		</Section>

		<!-- FAQ Section -->
		<section id="faq" class="py-32 bg-white" data-reveal>
			<div class="max-w-4xl mx-auto px-8">
				<h2 class="text-4xl md:text-5xl lg:text-6xl font-bold text-center mb-4 text-dark relative after:content-[''] after:block after:w-20 after:h-1 after:bg-turquoise after:mt-4 after:mx-auto after:rounded">
					Preguntas Frecuentes
				</h2>
				<p class="text-center text-gray-custom text-lg mb-16 max-w-2xl mx-auto">
					Respuestas a las dudas más comunes sobre nuestros servicios
				</p>
				<div class="space-y-4 mt-16">
					{faqs.map(faq => (
						<FAQItem {...faq} />
					))}
				</div>
			</div>
		</section>

		<!-- Contacto Section -->
		<section id="contacto" class="contacto-section" data-reveal>
			<div class="max-w-7xl mx-auto px-8 contacto-wrapper" data-reveal>
				<div class="contacto-hero">
					<span class="hero-pill">Conversemos</span>
					<h2>Hablemos de tu Proyecto</h2>
					<p class="hero-copy">
						Cuéntanos qué necesitas construir y diseñaremos un plan a la medida. Respondemos en menos de 24 horas.
					</p>
				</div>
				<div class="contacto-grid">
					<div class="contacto-info">
						<h2>¿Por qué agendar una llamada?</h2>
						<ul>
							<li>
								<span class="title">Discovery express</span>
								<span class="copy">Validamos objetivos, alcance y tiempos en una sola sesión.</span>
							</li>
							<li>
								<span class="title">Equipo senior</span>
								<span class="copy">Especialistas en productos digitales, integraciones y automatización.</span>
							</li>
							<li>
								<span class="title">Presupuesto claro</span>
								<span class="copy">Entregamos estimaciones y roadmap con hitos verificables.</span>
							</li>
						</ul>
						<div class="cta-card">
							<div class="cta-content">
								<p class="cta-title">¿Prefieres WhatsApp?</p>
								<a
									href="https://wa.me/51939836897?text=Hola%20Cognicode,%20quiero%20hablar%20sobre%20un%20nuevo%20proyecto"
									target="_blank"
									class="cta-button"
								>
									Escribir ahora
								</a>
							</div>
							<div class="cta-illustration" aria-hidden="true">
								<img
									src="https://blush.design/api/download?shareUri=Nl5lZrp86&c=Clothing_0%7Effc81a&w=800&h=800&fm=png"
									alt="Ilustración decorativa de persona sentada"
									loading="lazy"
								/>
							</div>
						</div>
					</div>
					<form
						action="https://api.web3forms.com/submit"
						method="POST"
						id="contact-form"
						class="contact-form"
					>
						<input type="hidden" name="access_key" value="8dc97aae-bd7d-4fef-be4b-c8e96cd7c6d6" />
						<input type="hidden" name="subject" value="Nuevo mensaje de contacto desde CogniCode" />
						<input type="hidden" name="from_name" value="Formulario CogniCode" />

						<div class="form-row">
							<label class="field">
								<span>Nombre completo</span>
								<input type="text" name="name" placeholder="María López" required />
							</label>
							<label class="field">
								<span>Correo de contacto</span>
								<input type="email" name="email" placeholder="hola@empresa.com" required />
							</label>
						</div>

						<label class="field">
							<span>Empresa</span>
							<input type="text" name="company" placeholder="Nombre de tu empresa" />
						</label>

						<label class="field">
							<span>Cuéntanos sobre tu proyecto</span>
							<textarea name="message" rows="5" placeholder="¿Qué necesitas construir?" required></textarea>
						</label>

						<button type="submit" class="btn-enviar">
							<span>Enviar solicitud</span>
							<Icon name="lucide:send" class="w-5 h-5" />
						</button>
						<div id="form-message" class="hidden p-4 rounded-lg text-center font-medium"></div>
					</form>
				</div>
			</div>
		</section>

		<Footer />
		
		<!-- WhatsApp Floating Button -->
		<WhatsAppButton phoneNumber="51902415972" message="Hola CogniCode, me gustaría saber más sobre sus servicios" />
	</main>
