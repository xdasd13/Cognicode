---
import { ModalServicio } from './ModalServicio';

interface Props {
	titulo: string;
	descripcion: string;
	costoAprox: string;
	icono: 'ShoppingCart' | 'Globe' | 'Zap' | 'Package';
	id?: number;
}

const { titulo, descripcion, costoAprox, icono, id = 1 } = Astro.props;

// Mapeo de GIFs desde public/gif
const gifMap = {
	ShoppingCart: '/gif/compras-online.gif',
	Globe: '/gif/dominio.gif',
	Zap: '/gif/app-web.gif',
	Package: '/gif/inventario.gif'
};

const gifPath = gifMap[icono];

const servicio = {
	id,
	titulo,
	descripcion,
	costoAprox,
	icono
};
---

<article class="service-card">
	<div class="service-card__header">
		<div class="service-card__icon">
			<div class="service-card__icon-plate" />
			<img src={gifPath} alt={titulo} class="service-card__icon-gif" loading="lazy" />
		</div>
		<div class="service-card__heading">
			<h3 class="service-card__title">{titulo}</h3>
		</div>
	</div>

	<div class="service-card__content">
		<p class="service-card__description">{descripcion}</p>
	</div>

	<div class="service-card__divider" />

	<div class="service-card__price">
		<span class="service-card__price-label">Costo aproximado</span>
		<span class="service-card__price-value">{costoAprox}</span>
	</div>

	<div class="service-card__actions">
		<ModalServicio client:load servicio={servicio} />
		<button class="service-card__cta">Consultar</button>
	</div>
</article>
